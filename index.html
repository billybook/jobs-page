<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Jobs</title>
		<link rel="stylesheet" href="css/style.css" />
		<link rel="stylesheet" href="//code.jquery.com/ui/1.12.0/themes/base/jquery-ui.css">

		<script src="//cdn.tinymce.com/4/tinymce.min.js"></script>
	</head>

	<body>
		<div id="loginForm">
			<script id="login-template" type="text/x-handlebars-template">
				{{#if loggedIn}}
					<h3>Welcome {{user.email}}</h3>
					<input id="signOut" type="submit" value="Sign Out" />
				{{else}}
					<h3>Register/Login</h3>
					<input name="email" type="email" placeholder="Email Address" />
					<input name="password" type="password" placeholder="Password" />
					<button id="register" type="submit" value="Register">Register</button>
					<button id="login" type="submit" value="Login">Login</button>
				{{/if}}
			</script>
		</div>
		<h1>C2ER Member Jobs Page</h1>
		<button id="addNew">Add New</button>
		<div id="jobsData">
			<div id="jobsList">
				<script id="jobs-list-template" type="text/x-handlebars-template">
					{{#each jobs}}
						<div class="posting" postingID="{{guid}}" data-id="{{@key}}">
							<a>{{title}}</a><br />
							{{organization}}<br />
							{{location}}<br />
							Date Posted: {{formatDate pubDate}}
							{{#if expirationDate}}
							<br />Closing Date: {{formatDate expirationDate}}
							{{/if}}
						</div>
					{{/each}}
				</script>
			</div>


			<div id="currentPosting">
				<script id="current-job-template" type="text/x-handlebars-template">
					<div postingID="{{guid}}" data-id="{{key}}">
						<input name="title" placeholder="Job Title" type="text" value="{{title}}"/>
						<input name="organization" placeholder="Company" type="text" value="{{organization}}" />
						<input name="location" placeholder="Location" type="text" value="{{location}}" />
						<div name = "pubDate">Date Posted: <input placeholder="" type="text" value="{{pubDate}}" class="datepicker" /></div>
						<div name = "expirationDate">Closing Date: <input placeholder="" type="text" value="{{expirationDate}}" class="datepicker" /></div>
						<div name="description">{{#if description}}{{{description}}}{{else}}<p> </p>{{/if}}</div>

						{{#unless status}}<button id="addJob" type="submit">Add</button>{{else}}<button class="edit">Edit</button><button class="delete">X</button>{{/unless}}
					</div>
				</script>
			</div>

			<!--<div id="jobForm">
				<input name="title" placeholder="Job Title" type="text" />
				<input name="organization" placeholder="Company" type="text" />
				<input name="location" placeholder="Location" type="text" />
				<input name="pubDate" placeholder="" type="text" class="datepicker" />
				<input name="expirationDate" placeholder="" type="text" class="datepicker" />
				<div name="description"></div>

				<button id="addJob" type="submit">Add</button>
			</div>-->
		</div>




		<script src="https://code.jquery.com/jquery-3.0.0.min.js" integrity="sha256-JmvOoLtYsmqlsWxa7mDSLMwa6dZ9rrIdtrrVYRnDRH0="
			crossorigin="anonymous"></script>
		<script src="http://code.jquery.com/ui/1.11.4/jquery-ui.min.js"></script>
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>

		<script src="https://www.gstatic.com/firebasejs/3.2.1/firebase.js"></script>
		<script>
		// Initialize Firebase
		var config = {
			apiKey: "AIzaSyC0_0fxteanxh1XwjEzxIZunk3SkT2gCVs",
			authDomain: "jobs-page.firebaseapp.com",
			databaseURL: "https://jobs-page.firebaseio.com",
			storageBucket: "jobs-page.appspot.com",
		};
		firebase.initializeApp(config);
		</script>
    
		<script type="text/javascript" src="js/index.js"></script>
	</body>
</html>